#컴네 11주차

---

##거리벡터 알고리즘

### 링크 비용 변경

-	노드가 링크 비용을 감지
-	라우팅 정보를 갱신하고, 거리 벡터를 재계산
-	거리 벡터 값이 변경되었으면 이웃 노드들에게 알림
-	비용이 감소하는 좋은 소식은 네트워크 전역에 빨리 전파
-	계산 이외의 정보에 대해서는 **감지 불가**

#### 예시

####x -4- y -1- z -50- x

##### 1. 비용이 감소하는 경우

-	4 가 1로 변경되었을 경우
-	Dz(x) = 5 (z에서 x로 가는 경우)
-	비용에 대해 다시 계산
	-	C(z,y) + Dy(x) = 2

#### 2. 비용이 증가하는 경우(나쁜 소식)

-	Dy(x) = 4
-	Dz(x) = 5
-	**Dy(x) = 60으로 변경**
-	Dz(x) = 5라는 것을 알고 있었으나 값이 증가한 이후 이를 감지 불가
-	자기 자신을 포함한 값(1)을 더하여 경로비용 계산
-	경로비용이 50보다 커진다는 사실을 알 때 까지 이를 반복한다

### 포이즌 리버스 추가

-	z가 y를 통해 목적지 x로 가는 경로를 설정하는 경우
-	z은 y에게 거리를 무한대로 설정, Dz(x) = infinite

### 링크상태 알고리즘과 거리 벡터 알고리즘의 비교

-	서로 보완적인 접근
	-	거리벡터 알고리즘
		-	직접 연결된 이웃과 대화
		-	모든 노드까지의최소비용 예측치를 이웃에게 제공
-	링크상태 알고리즘

	-	다른 모든 노드와 대화
	-	직접 연결된 링크 비용만을 제공

-	메세지 복잡성

-	수렴속도

	-	링크상태 = O(n^2) = 진동이 발생할 수 있음
	-	거리벡터 = 수렴에 걸리는 시간은 많다. 라우팅 루프 발생 가능, 무한 카운트 문제

-	강건성: 에러 혹은 오동작이 발생시

	-	링크 상태

		-	노트가 틀린 링크비용 광고
		-	각 노드가 자신의 포워딩 테이블 계산

	-	거리벡터

		-	노드가 틀린 경로비용을 광고
		-	각 노드의 테이블이 다른노드에 의해 사용
			-	에러가 네트워크 전반에 전파

---

확장 가능한 라우팅
------------------

-	현재까지의 라우팅은 이상적 환경 보유
	-	모든 라우터 동일
	-	하나의 네트워크
-	실제는 다음과 같은 문제 직면
	-	확장: 6억개 이상의 목적지(호스트)
	-	모든 목적지를 라우팅 테이블에 저장할 수 없음
	-	라우팅 테이블의 교환은 링크의 대역폭을 고갈
	-	관리 자치권
	-	여러 조직의 네트워크가 존재(인터넷은 네트워크의 네트워크)
	-	각 네트워크의 관리자는 자신의 방식대로 자신의 네트워크를 운영 관리하기 원함

### 확장 가능한 라우팅을 위한 인터넷의 접근 방식

### 상호 연결된 AS

-	포워딩 테이블은 인트라-, -인터 AS라우팅 알고리즘에 의해 설정
	-	인트라 - AS는 내부 목적지들에 대한 엔트리를 지정
	-	인터 - AS 와 인트라 - AS는 외부 목적지들에 대한 엔트리를 설정

### 인터 - AS 작업

-	AS1 안의 라우터가 AS1 밖으로 나가는 데이터그램을 수신하는 경우 가정

	-	라우터는 게이트웨이 라우터에 패킷을 전달해야 함

-	AS!작업

	-	AS2와 AS3를 경유하여 도달할 수 있는 목적지들을 학습
	-	이 도달 정보를 AS1 안에 있는 모든 라우터들에게 전파

		-	인터 - AS 라우팅의 역할

### 인트라 - AS 라우팅

-	내부 게이트웨이 프로토 콜이라고도 함

-	일반적으로 많이 사용되는 인트라 - AS 프로토 콜

	-	라우팅 정보 프로토콜
	-	거리벡터 알고리즘, 매 30초 마다 DV 광고

	-	개방형 최단경로 우선

	-	Interior Gateway Routing Protocol

	-	Cisco사 독점 프로토 콜

###OSPF

-	open은 라우팅 프로토 콜이 공용으로 사용 가능함을 의미
-	RIP는 주로 하위계층 ISP나 기업 네트워크 구축에 사용되는 반면
-	OSPF는 상위 계층 ISP들이 사용

-	링크 상태 알고리즘 사용

	-	다익스트라 최소 비용 경로 알고리즘
	-	링크 상태 패킷 전파
	-	각 노드는 전체 AS의 토폴로지 맵을 가짐

-	OSPF 광고는 인접한 라우터 뿐만 아니라 AS

###OSPF 주요 특징

-	보안
-	다중 동일 비용 경로
-	다중 비용 측정값
-	유니캐스트와 멀티캐스트 통합 지원
-	단일 라우팅 도메인에서의 계층 지원
