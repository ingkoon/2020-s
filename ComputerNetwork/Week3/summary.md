# 3주차 요약

## 쿠키
  * 대부분의 상용 웹 사이트들이 쿠키를 사용하여 사용자 상태 추적 및 유지
          * 쿠키는 4가지 요소로 구성
                  * 응답 메시지의 쿠키 헤더라인(id번호 등등)
                  * 요청 메시지의 쿠키 헤더라인()
                  * 사용자 호스트에 저장되어 브라우저에 의해관리되는 쿠키파일
                  * 웹 사이트의 백엔드 데이터베이스
  * 쿠키의 활용
      * 사용자 식별 확인()

      * 사용자 세선 상태
  * 상태 보존
      * 일반 프로토콜 종단은 송신자/수신자사이의 다 수의 전송들간에 상태유지

      * 쿠키는 http 메시지가 상태를 전송      
  * 쿠키와 사용자 사생활 침해
      * 쿠키와 사용자 계정정보와 결합

      * 사용자의 많은 정보가 노출

## 사용자와 서버간 상호작용
   1. 서버에게 http요청

   2. 서버측에서 새로운 고객인지

   3. 서버측에서 ID생성, 응답메세지에 헤더파일(set-cookie)추가하여 전달

   4. 다시 클라이언트가 접속했을 때, 쿠키파일을 바탕으로 요청

   5. 데이터베이스를 통하여 요청 사항 전달

## 웹 캐시 (프록시 서버)
    * 웹 캐시는 웹 서버를 대신하여 HTTP 요구를 충족시켜주는 네트워크 개체
        * 프록시 서버라고도 함

    * 브라우저는 웹 캐시와 연결을 설정하고 웹 캐시에 HTTP요청 전송 (속도 증가를 위함)
        * 웹 캐시에 개게가 있으면 객체를 전송
        * 없으면 웹 캐시를 기점으로 서버에 객체 요청하여 서버로부터 클라이언트에 객체 전송

    * 캐시는 클라이언트와 서버로 동작
        * 일반적으로 ISP(Internet Service Provider)에 의해 설치
        * 요청에 대한 응답시간 감소
        * 웹 트래픽을 감소 시킨다는 이점을 갖는다
        * 저속도의 접속 회선 서버에서 사이트 운영시에도 빠른 컨텐츠 분배를 위한 기반구조 제공

    ex)
    * 가정
      * 평균 객체 크기: 1M 비트
      * 브라우저에서 서버로 평균 요청 비율: 15 요청/초
      * 접속회선: 15Mbps
      * 기관 라우터에서 서버까지요청을 전달하고 응답을 받는 평균 소요 시간(RTT): 2초

    * 성능
      * LAN 이용율
        * (15요청/초 x 1M 비트) / 100Mbps = 0.15 //15%
      * 접속 회선 이용율
        * (15요청/초 x 1M 비트) / 15Mbps = 1 //100% 따라서 문제발생(느려짐 발생)
      * 전체 지연
        * 인터넷 지연 + 접속 회선 지연 + LAN 지연 = 2초 + 수분 + 마이크로초

    현재의 경우, 접속 회선의 크기를 확장할 경우 크게 줄어든다. 다만 캐시를 사용할 경우 전자의 경우보다 빠르면서 비용적 효율이 증가한다.

## 조건부 GET
    * 조건부 GET은 웹 캐시의 객체들이 최신버전이면 서버가 객체를 보내지 않는 것
      * 캐시는 HTTP 요청에 캐시된 복사본의 시간을 명시(헤더)

      <pre>
      <code>
      {
      if-modified-since:
      <date>
      }
      </code>
      <pre>

      * 서버는 캐시된 복사본이 최신의 것이면 객체가 생략된 응답을 전송
      <pre>
      <code>
      {
      HTTP/1.0 304 Not
      Modified
      }
      </code>
      <pre>

## REST(REpresentational State Transfer)
  * REST 아키텍처(웹의 기본 목적인 웹 문서, 웹 객체를 제공)
    * 웹을 활용한 분산 시스템 소프트웨어 아키텍처
    * URi(identifier)로 자원을 기술하고, HTTP로 전송
      * RPC(원격 프로시저 콜)비슷하게 콜을 이용하여 다른 컴퓨터의 서비스를 호출하여 수행하고자 하는 시스템
      * HTTP 메서드로 자원의 제어, 명령의 결과는 XML, JSON 등으로 응답
    * 2000년 Roy Fielding의 박사학위 논문에서 제안

  * 자원에 대한 명령은 CRUD로 압축
    * C: Create, 자원을 생성, SQL의 INSERT
    * R: Read, 자원의 정보를 읽기, SQL의 SELECT
    * U: Update, 자원의 정보를 업데이트, SQL의 Update
    * D: Delete, 자원의 삭제, SQL의 DELETE

    * REST는 HTTP 메서드로 원격의 자원을 제어하는 명령을 기술
      * C: POST, R: GET, U: PUT, D: DELETE

    * 명령의 결과 데이터는 HTTP 바디(body)로 전송
      * 데이터 형식은, XML, JSON 등으로 표현
